{"code":"import { CognitoUserPool, CognitoUser, AuthenticationDetails, } from 'amazon-cognito-identity-js';\r\nlet UserPoolId;\r\nlet ClientId;\r\nconst Configure = (userPoolId, clientId) => {\r\n    UserPoolId = userPoolId;\r\n    ClientId = clientId;\r\n};\r\nconst GetJwtToken = async (username, password) => {\r\n    var authenticationData = {\r\n        Username: username,\r\n        Password: password,\r\n    };\r\n    var authenticationDetails = new AuthenticationDetails(authenticationData);\r\n    var poolData = { UserPoolId, ClientId };\r\n    var userPool = new CognitoUserPool(poolData);\r\n    var userData = {\r\n        Username: username,\r\n        Pool: userPool,\r\n    };\r\n    var cognitoUser = new CognitoUser(userData);\r\n    await new Promise((resolve, reject) => {\r\n        cognitoUser.authenticateUser(authenticationDetails, {\r\n            onSuccess: function (result) {\r\n                var accessToken = result.getAccessToken().getJwtToken();\r\n                console.log(accessToken);\r\n                resolve(accessToken);\r\n            },\r\n            onFailure: function (err) {\r\n                reject(err.message);\r\n            },\r\n        });\r\n    });\r\n};\r\nexport const Cognito = { Configure, GetJwtToken };\r\n//# sourceMappingURL=index.js.map","references":["/workspaces/awsts/node_modules/amazon-cognito-identity-js/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/cognito/index.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EACL,eAAe,EACf,WAAW,EACX,qBAAqB,GACtB,MAAM,4BAA4B,CAAC;AAEpC,IAAI,UAAkB,CAAA;AACtB,IAAI,QAAgB,CAAA;AAEpB,MAAM,SAAS,GAAG,CAAC,UAAkB,EAAE,QAAgB,EAAE,EAAE;IACzD,UAAU,GAAG,UAAU,CAAA;IACvB,QAAQ,GAAG,QAAQ,CAAA;AACrB,CAAC,CAAA;AAED,MAAM,WAAW,GAAG,KAAK,EAAE,QAAgB,EAAE,QAAgB,EAAE,EAAE;IAC/D,IAAI,kBAAkB,GAAG;QACvB,QAAQ,EAAE,QAAQ;QAClB,QAAQ,EAAE,QAAQ;KACnB,CAAC;IACF,IAAI,qBAAqB,GAAG,IAAI,qBAAqB,CAAC,kBAAkB,CAAC,CAAC;IAC1E,IAAI,QAAQ,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC;IACxC,IAAI,QAAQ,GAAG,IAAI,eAAe,CAAC,QAAQ,CAAC,CAAC;IAC7C,IAAI,QAAQ,GAAG;QACb,QAAQ,EAAE,QAAQ;QAClB,IAAI,EAAE,QAAQ;KACf,CAAC;IACF,IAAI,WAAW,GAAG,IAAI,WAAW,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACpC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,EAAE;YAClD,SAAS,EAAE,UAAU,MAAM;gBACzB,IAAI,WAAW,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC,WAAW,EAAE,CAAC;gBACxD,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACzB,OAAO,CAAC,WAAW,CAAC,CAAC;YACvB,CAAC;YACD,SAAS,EAAE,UAAU,GAAG;gBACtB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACtB,CAAC;SACF,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,OAAO,GAAG,EAAE,SAAS,EAAE,WAAW,EAAE,CAAA\"}","dts":{"name":"/workspaces/awsts/cognito/index.d.ts","writeByteOrderMark":false,"text":"export declare const Cognito: {\r\n    Configure: (userPoolId: string, clientId: string) => void;\r\n    GetJwtToken: (username: string, password: string) => Promise<void>;\r\n};\r\n"}}
